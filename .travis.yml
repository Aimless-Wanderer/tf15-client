matrix:
  include:
    - language: android
      os: linux
      dist: trusty
      jdk: oraclejdk8
      android:
        components:
          - tools
          - build-tools-29.0.3
          - android-5
          - android-29
      before_script:
        - cd android
      script:
        - ./gradlew build
    - language: cpp
      os: linux
      dist: bionic
      compiler: gcc
      addons:
        apt:
          packages:
            - gcc-multilib
            - g++-multilib
            - libfreetype6-dev:i386
            - libfontconfig-dev:i386
            - p7zip-full
            - cmake
            - cmake-data
            - ninja-build
      script:
        - mkdir build
        - cd build
        - cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug ..
        - ninja -v
    - language: cpp
      os: windows
      compiler: msvc
      install:
        - choco install ninja
      script:
        - mkdir build
        - cd build
        - cmd.exe /C "C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" x86
        - cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug ..
        - ninja -v