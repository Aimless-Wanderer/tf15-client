matrix:
  include:
    - language: android
      os: linux
      dist: trusty
      jdk: oraclejdk8
      android:
        components:
          - tools
          - build-tools-29.0.3
          - android-5
          - android-29
          - extra-google-m2repository
      install:
        - echo y | sdkmanager "ndk-bundle"
        - echo y | sdkmanager "ndk;21.0.6113669"
      before_script:
        - cd android
      script:
        - ./gradlew build
    - language: cpp
      os: linux
      dist: bionic
      compiler: gcc
      addons:
        apt:
          packages:
            - gcc-multilib
            - g++-multilib
            - libfreetype6-dev:i386
            - libfontconfig-dev:i386
            - p7zip-full
            - cmake
            - cmake-data
            - ninja-build
      script:
        - cmake -H. -Bbuild -G Ninja
        - cd build
        - cmake --build . --config Debug
    - language: cpp
      os: windows
      compiler: msvc
      script:
        - cmake -A Win32 -H. -Bbuild
        - cd build
        - cmake --build . --config Debug